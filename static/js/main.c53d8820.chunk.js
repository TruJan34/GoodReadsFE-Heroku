(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,o){e.exports=o(62)},34:function(e,t,o){},35:function(e,t,o){},62:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),r=o(26),s=o.n(r),l=(o(34),o(3)),c=o(4),i=o(8),u=o(5),p=o(7),d=(o(35),o(2)),h=o(6),b=o(13),k=o.n(b),m=o(18),E=o(42),g=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(i.a)(this,Object(u.a)(t).call(this,e))).onClick=o.onClick.bind(Object(d.a)(Object(d.a)(o))),o}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){this.props.getBook(e.best_book.title)}},{key:"render",value:function(){var e=this,t=this.props.booksList.length>0&&this.props.booksList.map(function(t,o){return n.a.createElement("li",{key:o,onClick:function(){return e.onClick(t)}},t.best_book.title)});return n.a.createElement(n.a.Fragment,null,t&&n.a.createElement("h1",null,"Searched Books :- "),!this.props.loading&&n.a.createElement("ol",null,t))}}]),t}(a.Component),O=Object(h.b)(function(e){return{booksList:e.books.booksList,loading:e.books.loading,error:e.books.error,selectedBook:e.books.selectedBook}},{getBook:function(e){return function(){var t=Object(m.a)(k.a.mark(function t(o){var a;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o({type:"LOADING"}),t.prev=1,t.next=4,E.post("https://murmuring-atoll-47071.herokuapp.com/book",{book:e});case 4:(a=t.sent).data.GoodreadsResponse.book?o({type:"BOOK_SELECT",payload:a.data.GoodreadsResponse.book}):o({type:"ERROR",payload:"Error while fetching book details"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),o({type:"ERROR",payload:"Error while fetching book details"});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}})(g),v=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="rating-static rating-"+5*Math.round(10*this.props.selectedBook.average_rating/5);return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"BookInfo"),n.a.createElement("div",{class:"container"},n.a.createElement("div",{class:"div1"},n.a.createElement("img",{src:this.props.selectedBook.image_url,alt:"Book Image",width:"400"})),n.a.createElement("div",{class:"div2"},n.a.createElement("h2",null,this.props.selectedBook.title),n.a.createElement("h6",null,"By"," ",this.props.selectedBook.authors.author.length>0?this.props.selectedBook.authors.author.map(function(e){return e.name}).toString():this.props.selectedBook.authors.author.name),n.a.createElement("div",null,n.a.createElement("b",null,"Avg Rating :"),"(",this.props.selectedBook.average_rating,")",n.a.createElement("div",{className:e}))," ",n.a.createElement("b",null,"Rating Count :")," ",this.props.selectedBook.ratings_count,n.a.createElement("b",null," Reviews :"),this.props.selectedBook.text_reviews_count,n.a.createElement("br",null),n.a.createElement("span",null,this.props.selectedBook.description))))}}]),t}(a.Component),f=Object(h.b)(function(e){return{booksList:e.books.booksList,loading:e.books.loading,error:e.books.error,selectedBook:e.books.selectedBook}},null)(v),y=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={searchKey:""},o.onChange=o.onChange.bind(Object(d.a)(Object(d.a)(o))),o.onSubmit=o.onSubmit.bind(Object(d.a)(Object(d.a)(o))),o}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState({searchKey:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.createSearch(this.state.searchKey)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Search Book"),n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("div",null,n.a.createElement("label",null,"Enter Book Name: "),n.a.createElement("br",null),n.a.createElement("input",{type:"text",name:"searchKey",onChange:this.onChange,value:this.state.searchKey})),n.a.createElement("br",null),n.a.createElement("button",{type:"submit"},"Submit")),n.a.createElement("br",null),n.a.createElement("br",null),!this.props.loading&&!this.props.selectedBook&&n.a.createElement(O,null),this.props.loading&&n.a.createElement("div",null,n.a.createElement("h2",null,"Loading .... "),n.a.createElement("h6",null,"Fetching data from 3rd party API")),!this.props.loading&&this.props.selectedBook&&n.a.createElement(f,null),n.a.createElement("h5",null,this.props.error))}}]),t}(a.Component),j=Object(h.b)(function(e){return{booksList:e.books.booksList,loading:e.books.loading,error:e.books.error,selectedBook:e.books.selectedBook}},{createSearch:function(e){return function(){var t=Object(m.a)(k.a.mark(function t(o){var a;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o({type:"LOADING"}),t.prev=1,t.next=4,E.post("https://murmuring-atoll-47071.herokuapp.com/search",{searchKey:e});case 4:(a=t.sent).data.GoodreadsResponse.search.results.work?o({type:"SEARCH_BOOK",payload:a.data.GoodreadsResponse.search.results.work}):o({type:"ERROR",payload:"No Books Found. Please search with other Title."}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),o({type:"ERROR",payload:"Error during book search"});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}})(y),B=o(9),w=o(28),R=o(12),C={booksList:[],selectedBook:void 0,loading:!1,error:void 0},L=Object(B.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(R.a)({},e,{loading:!0,error:void 0,booksList:[],selectedBook:void 0});case"ERROR":return Object(R.a)({},e,{error:t.payload,loading:!1});case"SEARCH_BOOK":return Object(R.a)({},e,{loading:!1,booksList:t.payload});case"BOOK_SELECT":return Object(R.a)({},e,{loading:!1,selectedBook:t.payload});case"CLEAR_SELECT":return Object(R.a)({},e,{selectedBook:void 0});default:return e}}}),S=[w.a],_=Object(B.d)(L,{},B.a.apply(void 0,S)),K=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(h.a,{store:_},n.a.createElement("div",{className:"App"},n.a.createElement(j,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.c53d8820.chunk.js.map